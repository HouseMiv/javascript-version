<script setup>
import avatar1 from '@images/avatars/avatar-1.png'

const accountData = {
  avatarImg: avatar1,
  nickname: 'john',
  name: 'Doe',
  timezone: '(GMT-11:00) International Date Line West',
}

const timezones = [
  '(GMT-11:00) –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –ª–∏–Ω–∏—è –¥–∞—Ç –ó–∞–ø–∞–¥–Ω–∞—è',
  '(GMT-11:00) –û—Å—Ç—Ä–æ–≤ –ú–∏–¥—É—ç–π',
  '(GMT-10:00) –ì–∞–≤–∞–π–∏',
  '(GMT-09:00) –ê–ª—è—Å–∫–∞',
  '(GMT-08:00) –¢–∏—Ö–æ–æ–∫–µ–∞–Ω—Å–∫–æ–µ –≤—Ä–µ–º—è (–°–®–ê –∏ –ö–∞–Ω–∞–¥–∞)',
  '(GMT-08:00) –¢–∏—Ö—É–∞–Ω–∞',
  '(GMT-07:00) –ê—Ä–∏–∑–æ–Ω–∞',
  '(GMT-07:00) –ß–∏—É–∞—É–∞',
  '(GMT-07:00) –õ–∞-–ü–∞—Å',
  '(GMT-07:00) –ú–∞—Å–∞—Ç–ª–∞–Ω',
  '(GMT-07:00) –ì–æ—Ä–Ω–æ–µ –≤—Ä–µ–º—è (–°–®–ê –∏ –ö–∞–Ω–∞–¥–∞)',
  '(GMT-06:00) –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞',
  '(GMT-06:00) –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (–°–®–ê –∏ –ö–∞–Ω–∞–¥–∞)',
  '(GMT-06:00) –ì–≤–∞–¥–∞–ª–∞—Ö–∞—Ä–∞',
  '(GMT-06:00) –ú–µ—Ö–∏–∫–æ',
  '(GMT-06:00) –ú–æ–Ω—Ç–µ—Ä—Ä–µ–π',
  '(GMT-06:00) –°–∞—Å–∫–∞—á–µ–≤–∞–Ω',
  '(GMT-05:00) –ë–æ–≥–æ—Ç–∞',
  '(GMT-05:00) –í–æ—Å—Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è (–°–®–ê –∏ –ö–∞–Ω–∞–¥–∞)',
  '(GMT-05:00) –ò–Ω–¥–∏–∞–Ω–∞ (–í–æ—Å—Ç–æ–∫)',
  '(GMT-05:00) –õ–∏–º–∞',
  '(GMT-05:00) –ö–∏—Ç–æ',
  '(GMT-04:00) –ê—Ç–ª–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è (–ö–∞–Ω–∞–¥–∞)',
  '(GMT-04:00) –ö–∞—Ä–∞–∫–∞—Å',
  '(GMT-04:00) –õ–∞-–ü–∞—Å',
  '(GMT-04:00) –°–∞–Ω—Ç—å—è–≥–æ',
  '(GMT-03:00) –ë—Ä–∞–∑–∏–ª–∏—è',
  '(GMT-02:00) –°—Ä–µ–¥–∏–Ω–Ω–æ-–ê—Ç–ª–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –æ–∫–µ–∞–Ω',
  '(GMT-01:00) –ê–∑–æ—Ä—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞',
  "(GMT+00:00) –õ–æ–Ω–¥–æ–Ω",
]

const refInputEl = ref()
const accountDataLocal = ref(structuredClone(accountData))
const isAccountDeactivated = ref(false)


const changeAvatar = file => {
  const fileReader = new FileReader()
  const { files } = file.target
  if (files && files.length) {
    fileReader.readAsDataURL(files[0])
    fileReader.onload = () => {
      if (typeof fileReader.result === 'string')
        accountDataLocal.value.avatarImg = fileReader.result
    }
  }
}

// reset avatar image
const resetAvatar = () => {
  accountDataLocal.value.avatarImg = accountData.avatarImg
}
</script>

<template>
  <VRow>
    <VCol cols="12">
      <VCard title="–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
        <VCardText class="d-flex">
          <!-- üëâ Avatar -->
          <VAvatar
            rounded="lg"
            size="100"
            class="me-6"
            :image="accountDataLocal.avatarImg"
          />

          <!-- üëâ Upload Photo -->
          <form class="d-flex flex-column justify-center gap-5">
            <div class="d-flex flex-wrap gap-2">
              <VBtn
                color="primary"
                @click="refInputEl?.click()"
              >
                <VIcon
                  icon="bx-cloud-upload"
                  class="d-sm-none"
                />
                <span class="d-none d-sm-block">–ó–∞–≥—Ä—É–∑–∏—Ç—å –§–æ—Ç–æ</span>
              </VBtn>

              <input
                ref="refInputEl"
                type="file"
                name="file"
                accept=".jpeg,.png,.jpg,GIF"
                hidden
                @input="changeAvatar"
              >
            </div>

            <p class="text-body-1 mb-0">
              –†–∞–∑—Ä–µ—à–µ–Ω—ã JPG, GIF –∏–ª–∏ PNG. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä 800 –ö–ë
            </p>
          </form>
        </VCardText>

        <VDivider />

        <VCardText>
          <!-- üëâ Form -->
          <VForm class="mt-6">
            <VRow>
              <!-- üëâ First Name -->
              <VCol
                md="6"
                cols="12"
              >
                <VTextField
                  v-model="accountDataLocal.nickname"
                  placeholder="Jesus"
                  label="NickName"
                />
              </VCol>

              <!-- üëâ Last Name -->
              <VCol
                md="6"
                cols="12"
              >
                <VTextField
                  v-model="accountDataLocal.name"
                  placeholder="John"
                  label="–ù–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è"
                />
              </VCol>

              <!-- üëâ Timezone -->
              <VCol
                cols="12"
                md="12"
              >
                <VSelect
                  v-model="accountDataLocal.timezone"
                  label="Timezone"
                  placeholder="Select Timezone"
                  :items="timezones"
                  :menu-props="{ maxHeight: 200 }"
                />
              </VCol>


              <!-- üëâ Form Actions -->
              <VCol
                cols="12"
                class="d-flex flex-wrap gap-4"
              >
                <VBtn>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</VBtn>
              </VCol>
            </VRow>
          </VForm>
        </VCardText>
      </VCard>
    </VCol>
  </VRow>
</template>
